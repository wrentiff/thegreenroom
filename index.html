<html>

<head>

<title>the green room</title>
<style>
  body {
    cursor: url("https://cur.cursors-4u.net/cursors/images5/cur477.png"), auto;
}
</style>

</head>

<body style="background: #39FF14;">
  
<body>

   <video id="webcamVideo" width="640" height="480" autoplay>
</video>
    <canvas id="outputCanvas" width="640" height="480"></canvas>
    
    <script>
        const video = document.getElementById('webcamVideo');
        const canvas = document.getElementById('outputCanvas');
        const ctx = canvas.getContext('2d');

        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => video.srcObject = stream)
            .catch(error => console.error('Error accessing webcam:', error));
        
        function processFrame() {
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;

            // Step-away background removal logic (pixel-by-pixel analysis)
            for (let i = 0; i < data.length; i += 4) {
                const r = data[i];
                const g = data[i + 1];
                const b = data[i + 2];
                
                // Check if pixel is close to background color (adjust thresholds as needed)
                if (Math.abs(r - 100) < 20 && Math.abs(g - 100) < 20 && Math.abs(b - 100) < 20) {
                    data[i + 3] = 0; // Make pixel transparent
                }
            }
            
            ctx.putImageData(imageData, 0, 0);
            requestAnimationFrame(processFrame);
        }

        video.addEventListener('loadedmetadata', processFrame);
    </script>
  
</body>
  
</html>
